{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = [\"onClick\"];\nconst _hoisted_2 = [\"value\"];\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Add customer\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.customers, customer => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: customer._id\n    }, [_createTextVNode(_toDisplayString(customer.name) + \" - \" + _toDisplayString(customer.description) + \" - \" + _toDisplayString(customer.category) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteCustomer(customer._id)\n    }, \"Delete\", 8 /* PROPS */, _hoisted_1)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.createCustomer && $options.createCustomer(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newCustomer.name = $event),\n    placeholder: \"Name\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newCustomer.name]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newCustomer.description = $event),\n    placeholder: \"Description\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newCustomer.description]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newCustomer.category = $event),\n    id: \"customerCategory\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.customerTypes, customer => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: customer.id,\n      value: customer.name\n    }, _toDisplayString(customer.name), 9 /* TEXT, PROPS */, _hoisted_2);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.newCustomer.category]]), _hoisted_3], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["_createElementVNode","type","_createElementBlock","_Fragment","_renderList","$data","customers","customer","key","_id","_createTextVNode","_toDisplayString","name","description","category","onClick","$event","$options","deleteCustomer","_hoisted_1","onSubmit","_cache","_withModifiers","args","createCustomer","newCustomer","placeholder","required","id","customerTypes","value","_hoisted_2","_hoisted_3"],"sources":["/home/edward/summer-project/frontend/src/components/forms/customerForm.vue"],"sourcesContent":["<template>\n    <div>\n      <ul>\n        <li v-for=\"customer in customers\" :key=\"customer._id\">\n          {{ customer.name }} - {{ customer.description }} - {{ customer.category }}\n          <button @click=\"deleteCustomer(customer._id)\">Delete</button>\n        </li>\n      </ul>\n      <form @submit.prevent=\"createCustomer\">\n        <input v-model=\"newCustomer.name\" placeholder=\"Name\" required>\n        <input v-model=\"newCustomer.description\" placeholder=\"Description\" required>\n        <select v-model=\"newCustomer.category\" id=\"customerCategory\">\n        <option v-for=\"customer in customerTypes\" :key=\"customer.id\" :value=\"customer.name\">{{ customer.name }}</option>\n        </select>\n\n        <button type=\"submit\">Add customer</button>\n      </form>\n    </div>\n  </template>\n  \n  <script>\n  import api from '@/services/api';\n  \n  export default {\n    data() {\n      return {\n        customers: [],\n        newCustomer: {\n          name: '',\n          description: '',\n          category: ''\n        },\n        customerTypes: [\n        { id: 1, name: 'Regular' },\n        { id: 2, name: 'Business' },\n        { id: 3, name: 'Premium' },\n        { id: 4, name: 'Internal' },\n      ]\n      };\n    },\n    methods: {\n      async fetchCustomers() {\n        try {\n          const response = await api.getAllCustomers();\n          this.customers = response.data;\n        } catch (error) {\n          console.error('Error fetching customers:', error);\n        }\n      },\n      async createCustomer() {\n        try {\n          const response = await api.createCustomer(this.newcustomer);\n          this.customers.push(response.data);\n          this.newCustomer = { name: '', description: '', category: '' };\n        } catch (error) {\n          console.error('Error creating customer:', error);\n        }\n      },\n      async deleteCustomer(id) {\n        try {\n          await api.deleteCustomer(id);\n          this.customers = this.customers.filter(customer => customer._id !== id);\n        } catch (error) {\n          console.error('Error deleting customer:', error);\n        }\n      }\n    },\n    created() {\n      this.fetchCustomers();\n    }\n  };\n  </script>\n  "],"mappings":";mBAAA;mBAAA;gCAeQA,mBAAA,CAA2C;EAAnCC,IAAI,EAAC;AAAQ,GAAC,cAAY;;uBAdtCC,mBAAA,CAgBM,cAfJF,mBAAA,CAKK,c,kBAJHE,mBAAA,CAGKC,SAAA,QANbC,WAAA,CAG+BC,KAAA,CAAAC,SAAS,EAArBC,QAAQ;yBAAnBL,mBAAA,CAGK;MAH8BM,GAAG,EAAED,QAAQ,CAACE;QAHzDC,gBAAA,CAAAC,gBAAA,CAIaJ,QAAQ,CAACK,IAAI,IAAG,KAAG,GAAAD,gBAAA,CAAGJ,QAAQ,CAACM,WAAW,IAAG,KAAG,GAAAF,gBAAA,CAAGJ,QAAQ,CAACO,QAAQ,IAAG,GAC1E,iBAAAd,mBAAA,CAA6D;MAApDe,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,cAAc,CAACX,QAAQ,CAACE,GAAG;OAAG,QAAM,iBAL9DU,UAAA,E;oCAQMnB,mBAAA,CAQO;IARAoB,QAAM,EAAAC,MAAA,QAAAA,MAAA,MARnBC,cAAA,KAAAC,IAAA,KAQ6BN,QAAA,CAAAO,cAAA,IAAAP,QAAA,CAAAO,cAAA,IAAAD,IAAA,CAAc;sBACnCvB,mBAAA,CAA8D;IATtE,uBAAAqB,MAAA,QAAAA,MAAA,MAAAL,MAAA,IASwBX,KAAA,CAAAoB,WAAW,CAACb,IAAI,GAAAI,MAAA;IAAEU,WAAW,EAAC,MAAM;IAACC,QAAQ,EAAR;iDAArCtB,KAAA,CAAAoB,WAAW,CAACb,IAAI,E,mBAChCZ,mBAAA,CAA4E;IAVpF,uBAAAqB,MAAA,QAAAA,MAAA,MAAAL,MAAA,IAUwBX,KAAA,CAAAoB,WAAW,CAACZ,WAAW,GAAAG,MAAA;IAAEU,WAAW,EAAC,aAAa;IAACC,QAAQ,EAAR;iDAAnDtB,KAAA,CAAAoB,WAAW,CAACZ,WAAW,E,mBACvCb,mBAAA,CAES;IAbjB,uBAAAqB,MAAA,QAAAA,MAAA,MAAAL,MAAA,IAWyBX,KAAA,CAAAoB,WAAW,CAACX,QAAQ,GAAAE,MAAA;IAAEY,EAAE,EAAC;yBAC1C1B,mBAAA,CAAgHC,SAAA,QAZxHC,WAAA,CAYmCC,KAAA,CAAAwB,aAAa,EAAzBtB,QAAQ;yBAAvBL,mBAAA,CAAgH;MAArEM,GAAG,EAAED,QAAQ,CAACqB,EAAE;MAAGE,KAAK,EAAEvB,QAAQ,CAACK;wBAASL,QAAQ,CAACK,IAAI,wBAZ5GmB,UAAA;2EAWyB1B,KAAA,CAAAoB,WAAW,CAACX,QAAQ,E,GAIrCkB,UAA2C,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}